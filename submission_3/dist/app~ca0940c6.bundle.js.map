{"version":3,"file":"app~ca0940c6.bundle.js","mappings":"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","sources":["webpack://restaurant-apps/./src/scripts/views/app.js","webpack://restaurant-apps/./src/scripts/views/pages/detail.js","webpack://restaurant-apps/./src/scripts/views/pages/favorites.js","webpack://restaurant-apps/./src/scripts/views/pages/home.js","webpack://restaurant-apps/./src/scripts/views/templates/template.js"],"sourcesContent":["import routes from '../routes/routes'\r\nimport UrlParser from '../routes/url-parser'\r\n\r\nclass App {\r\n  constructor (content) {\r\n    this._content = content\r\n  }\r\n\r\n  async renderPage () {\r\n    const url = UrlParser.parseActiveUrlWithCombiner()\r\n    const page = routes[url]\r\n    this._content.innerHTML = await page.render()\r\n    await page.afterRender()\r\n  }\r\n}\r\n\r\nexport default App\r\n","import DataSource from '../../data/data-source'\r\nimport UrlParser from '../../routes/url-parser'\r\nimport Template from '../templates/template'\r\nimport LikeButtonInitiator from '../../utils/like-button-initiator'\r\n\r\nconst Detail = {\r\n  async render () {\r\n    return `\r\n    <section class=\"container py-10vh\">\r\n      <div id=\"content\" class=\"detail\">\r\n        <div class=\"loading mt-40\"></div>\r\n      </div>\r\n    </section>\r\n    `\r\n  },\r\n\r\n  async afterRender () {\r\n    const url = UrlParser.parseActiveUrlWithoutCombiner()\r\n    const restaurant = await DataSource.detail(url.id)\r\n    const container = document.getElementById('content')\r\n\r\n    container.innerHTML = Template.card(restaurant, false)\r\n\r\n    LikeButtonInitiator.init({\r\n      likeButtonContainer: document.querySelector('#favorite-container'),\r\n      restaurant: {\r\n        id: restaurant.id,\r\n        name: restaurant.name,\r\n        description: restaurant.description,\r\n        city: restaurant.city,\r\n        address: restaurant.address,\r\n        pictureId: restaurant.pictureId,\r\n        categories: restaurant.categories,\r\n        menus: restaurant.menus,\r\n        rating: restaurant.rating,\r\n        customerReviews: restaurant.customerReviews\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport default Detail\r\n","import FavoriteIdb from '../../data/favorite-idb'\r\nimport Template from '../templates/template'\r\n\r\nconst Favorites = {\r\n  async render () {\r\n    return `\r\n    <section class=\"container py-10vh\">\r\n      <div id=\"content\" class=\"mt-40\">\r\n        <h2 class=\"mb-20\" tabindex=\"0\">Restoran favoritmu</h2>\r\n        <div id=\"card-container\">\r\n          <div class=\"loading mt-40\"></div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n    `\r\n  },\r\n\r\n  async afterRender () {\r\n    const restaurants = await FavoriteIdb.getAll()\r\n    const container = document.getElementById('card-container')\r\n    container.classList.add('d-grid')\r\n    container.innerHTML = ''\r\n\r\n    if (restaurants.length) {\r\n      restaurants.forEach(restaurant => {\r\n        container.insertAdjacentHTML('beforeend', Template.card(restaurant, true))\r\n      })\r\n    } else {\r\n      container.insertAdjacentHTML('beforeend', '<div class=\"mt-40\">Tidak ada restaurant untuk ditampilkan</div>')\r\n    }\r\n  }\r\n}\r\n\r\nexport default Favorites\r\n","import DataSource from '../../data/data-source'\r\nimport Template from '../templates/template'\r\n\r\nconst Home = {\r\n  async render () {\r\n    return `\r\n    <section>\r\n      <div class=\"hero\">\r\n        <picture>\r\n          <source media=\"(max-width: 600px)\" srcset=\"./images/heros/hero-image_4-small.jpg\">\r\n          <img src='./images/heros/hero-image_4-large.jpg' alt=\"selerakita\">\r\n        </picture>\r\n        <div class=\"hero-text\">\r\n          <h1>Selerakita</h1>\r\n          <div>Citarasa istimewa</div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n    <section class=\"container py-10vh\">\r\n      <div id=\"content\">\r\n        <h2 class=\"mb-20\" tabindex=\"0\">Restoran kami</h2>\r\n        <p class=\"mb-20\" tabindex=\"0\">\r\n          Kami memiliki restoran yang tersebar diberbagai daerah dan kota-kota besar di Indonesia yang bisa Anda kunjungi kapan saja. Setiap restoran kami memiliki ciri khas tersendiri disetiap daerahnya lengkap dengan menu khas daerahnya masing-masing.\r\n        </p>\r\n        <div class=\"d-grid\" id=\"card-container\"></div>\r\n      </div>\r\n    </section>\r\n    `\r\n  },\r\n\r\n  async afterRender () {\r\n    const restaurants = await DataSource.list()\r\n    const container = document.getElementById('card-container')\r\n\r\n    restaurants.forEach(restaurant => {\r\n      container.insertAdjacentHTML('beforeend', Template.card(restaurant))\r\n    })\r\n  }\r\n}\r\n\r\nexport default Home\r\n","import API_ENDPOINT from '../../globals/api-endpoint'\r\n\r\nclass Template {\r\n  static card (restaurant, sumary = true) {\r\n    return `\r\n    <article tabindex=\"0\">\r\n      <img class=\"lazyload\" data-src=\"${API_ENDPOINT.SMALL_IMAGES(restaurant.pictureId)}\" alt=\"${restaurant.name}\">\r\n      ${this.heading(restaurant.name, sumary)}\r\n\r\n      <span class=\"rating mt-5 my-10\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" class=\"bi bi-star-fill\" viewBox=\"0 0 16 16\">\r\n          <path\r\n            d=\"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z\" />\r\n        </svg>\r\n        <span id=\"number\">${restaurant.rating}</span>\r\n      </span>\r\n\r\n      <p class=\"location\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" class=\"bi bi-geo-alt-fill\"\r\n          viewBox=\"0 0 16 16\">\r\n          <path d=\"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\" />\r\n        </svg>\r\n        <span id=\"city\">${this.address(restaurant, sumary)}</span>\r\n      </p>\r\n\r\n      <div class=\"my-10\" id=\"favorite-container\"></div>\r\n\r\n      <p id=\"description\">${this.description(restaurant.description, sumary)}</p>\r\n      ${this.cta(restaurant.id, sumary)}\r\n      ${this.menu(restaurant, sumary)}\r\n      ${this.reviews(restaurant, sumary)}\r\n      </article>\r\n    `\r\n  }\r\n\r\n  static heading (name, sumary) {\r\n    return (sumary) ? `<h3 class=\"mt-10 mb-5\">${name}</h3>` : `<h2 class=\"mt-10 mb-5\">${name}</h2>`\r\n  }\r\n\r\n  static address (restaurant, sumary) {\r\n    return (sumary) ? restaurant.city : `${restaurant.address}. ${restaurant.city}`\r\n  }\r\n\r\n  static description (string, limit) {\r\n    return (limit) ? this.limitString(string) : string\r\n  }\r\n\r\n  static cta (id, sumary) {\r\n    return (sumary) ? `<a href=\"#/detail/${id}\" class=\"link\"><span>Selengkapnya</span></a>` : ''\r\n  }\r\n\r\n  static menu (restaurant, sumary) {\r\n    if (restaurant.menus && !sumary) {\r\n      return `\r\n      <h3 class=\"mt-10\">Menu makanan:</h3>\r\n      <ul class=\"ms-20\">\r\n        ${this.menuItem(restaurant.menus.foods)}\r\n      </ul>\r\n      <h3 class=\"mt-10\">Menu minuman:</h3>\r\n      <ul class=\"ms-20\">\r\n      ${this.menuItem(restaurant.menus.drinks)}\r\n      </ul>\r\n      `\r\n    }\r\n\r\n    return ''\r\n  }\r\n\r\n  static reviews (restaurant, sumary) {\r\n    if (restaurant.customerReviews && !sumary) {\r\n      return `\r\n      <h3 class=\"mt-10\">Reviews:</h3>\r\n      ${this.reviewElement(restaurant.customerReviews)}\r\n      `\r\n    }\r\n\r\n    return ''\r\n  }\r\n\r\n  static menuItem (menus) {\r\n    let item = ''\r\n\r\n    menus.forEach(menu => {\r\n      item += `<li>${menu.name}</li>`\r\n    })\r\n\r\n    return item\r\n  }\r\n\r\n  static reviewElement (reviews) {\r\n    let element = ''\r\n\r\n    reviews.forEach(review => {\r\n      element += `\r\n      <h4 class=\"mt-10\">${review.name}</h4>\r\n      <small>${review.date}</small>\r\n      <p class=\"mt-5\">${review.review}</p>\r\n      `\r\n    })\r\n\r\n    return element\r\n  }\r\n\r\n  static favorite () {\r\n    return `\r\n    <div class=\"my-10\">\r\n      <button id=\"favorite\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" class=\"bi bi-heart\" viewBox=\"0 0 16 16\">\r\n          <path d=\"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z\"/>\r\n        </svg>\r\n      </button>\r\n    </div>\r\n    `\r\n  }\r\n\r\n  static favorited () {\r\n    return `\r\n    <div class=\"my-10\">\r\n      <button class=\"fill\" id=\"favorite\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" class=\"bi bi-heart-fill\" viewBox=\"0 0 16 16\">\r\n          <path fill-rule=\"evenodd\" d=\"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z\"/>\r\n        </svg>\r\n      </button>\r\n    </div>\r\n    `\r\n  }\r\n\r\n  static limitString (string) {\r\n    return `${string.substring(0, 150)}...`\r\n  }\r\n}\r\n\r\nexport default Template\r\n"],"names":["i","content","this","_content","url","UrlParser","page","routes","render","innerHTML","afterRender","DataSource","id","restaurant","document","getElementById","Template","LikeButtonInitiator","likeButtonContainer","querySelector","name","description","city","address","pictureId","categories","menus","rating","customerReviews","FavoriteIdb","restaurants","container","classList","add","length","forEach","insertAdjacentHTML","sumary","API_ENDPOINT","heading","cta","menu","reviews","string","limit","limitString","menuItem","foods","drinks","reviewElement","item","element","review","date","substring"],"sourceRoot":""}